(function(g,l){var i=g.Rx,e=i.Observable,m=e.createWithDisposable,j=i.Disposable.create,n=i.CompositeDisposable,o=i.RefCountDisposable,p=i.AsyncSubject,k=function(a,d,b){var h=new n,c=function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),j(function(){a.removeEventListener(b,c,!1)});if(a.attachEvent)return a.attachEvent("on"+b,c),j(function(){a.detachEvent("on"+b,c)});a["on"+b]=c;return j(function(){a["on"+b]=null})};if(a&&a.nodeName||a===g)h.add(c(a,d,b));else if(a&&a.length)for(var c=
    0,f=a.length;c<f;c++)h.add(k(a[c],d,b));return h};e.fromEvent=function(a,d){return m(function(b){return k(a,d,function(a){b.onNext(a)})})};var q=function(){var a=document.createElement("div");return function(d){a.appendChild(d);a.innerHTML=""}}();e.getJSONPRequest=function(){var a=0;return function(d){var b=new p,h=document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script"),f="rxjscallback"+a++,d=d.replace("=JSONPCallback","="+f);g[f]=function(a){b.onNext(a);
    b.onCompleted()};c.src=d;c.async=!0;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,h&&c.parentNode&&q(c),c=l,delete g[f]};h.insertBefore(c,h.firstChild);var e=new o(j(function(){/loaded|complete/.test(c.readyState)||(c.abort(),c.onload=c.onreadystatechange=null,h&&c.parentNode&&q(c),c=l,delete g[f],b.onError(Error("The script has been aborted")))}));return m(function(a){return new n(b.subscribe(a),e.getDisposable())})}}();
    var r=e.ajax=function(a){"string"===typeof a&&(a={method:"GET",url:a,async:!0});a.async===l&&(a.async=!0);var d=new p,b;if(g.XMLHttpRequest)b=new g.XMLHttpRequest;else try{b=new g.ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw Error("XMLHttpRequest is not supported by your browser");}if(a.headers){var c=a.headers,f;for(f in c)b.setRequestHeader(f,c[f])}try{details.user?b.open(a.method,a.url,a.async,a.user,a.password):b.open(a.method,a.url,a.async),b.onreadystatechange=b.onload=function(){if(b.readyState===
        4){var a=b.status;if(a>=200&&a<=300||a===0||a===""){d.onNext(b);d.onCompleted()}else d.onError(b)}},b.onerror=b.onabort=function(){d.onError(b)},b.send(a.body||null)}catch(i){d.onError(i)}var k=new o(j(function(){if(b.readyState!==4){b.abort();d.onError(b)}}));return m(function(a){return new n(d.subscribe(a),k.getDisposable())})};e.post=function(a,d){return r({url:a,body:d,method:"POST",async:!0})};var s=e.get=function(a){return r({url:a,method:"GET",async:!0})};JSON&&JSON.parse&&(e.getJSON=function(a){return s(a).select(function(a){return JSON.parse(a.responseText)})})})(this);