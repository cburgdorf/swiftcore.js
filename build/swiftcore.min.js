(function(){window.swiftcore={}})()(function(){if(!window.swiftcore)throw"make sure swiftcore.js was loaded before swiftcore.dependencyFormatters.js";var a=window.swiftcore;a.dependencyFormatters={},a.dependencyFormatters.asIs=function(a){return a},a.dependencyFormatters.camelCase=function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return b==0?a.toLowerCase():a.toUpperCase()}).replace(/\s+/g,"")}})()(function(){if(!window.swiftcore)throw"make sure swiftcore.js was loaded before swiftcore.instanceProvider.js";var a=window.swiftcore;a.instanceProvider={},a.instanceProvider.constructorBased=function(a,b){var c=new a.type(b);return a.isInitialized=!0,c},a.instanceProvider.initializeBased=function(a,b){return a.instance||(a.instance=new a.type),a.instance.initialize(b),a.isInitialized=!0,a.instance}})()(function(){function c(){}var a=window.swiftcore,b={};a.defaultInstanceProvider=a.instanceProvider.constructorBased,a.defaultDependencyFormatter=a.dependencyFormatters.asIs,c.prototype.register=function(a){return this.name=a,this},c.prototype.withType=function(a){return this.type=a,this},c.prototype.withInstance=function(a){return this.instance=a,this.isInitialized=a!==undefined&&a!==null,this},c.prototype.asSingleton=function(){return this.singleton=!0,this};var d=function(a){return a.type.dependencies!==undefined&&a.type.dependencies.length!==0},e=function(b,c){if(b.singleton&&b.isInitialized)return b.instance;var d=a.defaultInstanceProvider(b,c);return b.singleton&&(b.instance=d),d},f=function(b){var c={};for(var g in b){var h=b[g],i=a.getRegistration(h),j=a.defaultDependencyFormatter(h);if(!d(i))c[j]=e(i);else{var k=f(i.type.dependencies);c[j]=e(i,k)}}return c},g=function(a){return a.trim().toLowerCase()};a.register=function(b,c,d){return a.addRegistration({type:c,singleton:!!d,name:b})},a.addRegistration=function(a){var d=new c;return d.name=a.name,d.type=a.type,d.singleton=!!a.singleton,b[g(d.name)]=d,d},a.getRegistration=function(a){return b[g(a)]},a.resolve=function(b){var c=a.getRegistration(b);if(c===undefined)throw"Failed to resolve: "+b+". Registration unknown";if(c.type===undefined)throw"Failed to resolve: "+b+". Registration has no constructor function";var d=c.type.dependencies||[],d=f(d);return e(c,d)}})();